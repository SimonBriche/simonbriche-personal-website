"use strict";(self.webpackChunkreact_cmp=self.webpackChunkreact_cmp||[]).push([[945],{945:function(e,a,n){n.r(a);var t=n(861),s=n(152),o=n(757),c=n.n(o),r=n(791),l=n(212),i=n(184);a.default=function(e){var a=(0,r.useRef)(null),n=e.bridgeEvent,o=(0,r.useState)(null),d=(0,s.Z)(o,2),u=d[0],m=d[1],h=(0,r.useState)(null),f=(0,s.Z)(h,2),p=f[0],b=f[1],x=(0,r.useState)(null),g=(0,s.Z)(x,2),j=g[0],v=g[1];return(0,r.useEffect)((function(){(0,l.O6)("5")?m(new window.bootstrap.Modal(a.current,{keyboard:!1,backdrop:!1})):console.warn("Bootstrap 5 must be loaded to use GalleryPostModal component")}),[]),(0,r.useEffect)((function(){if(n&&u){var e;n.addEventListener("openGalleryModal",(function(n){b(n.detail),(e||(e=new Promise((function(e,a){(0,t.Z)(c().mark((function a(){var n;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,fetch("".concat("https://simonbriche.herokuapp.com","/graphql?query=").concat(encodeURIComponent("{\n                technologies{\n                  data {id, name, link, thumbnail}\n                }\n              }")));case 3:return a.next=5,a.sent.json();case 5:n=a.sent,e(n.data.technologies.data);case 7:case"end":return a.stop()}}),a)})))().catch(a)}))),e).then((function(e){v(n.detail.technology_ids.map((function(a){return e.find((function(e){return e.id===a}))})))})).catch((function(e){console.log("fail to get technologies",e)})).finally((function(){(0,l.Fq)(a.current)})),u.show(),a.current.addEventListener("hidden.bs.modal",(function(e){b(null)}),{once:!0}),document.querySelectorAll(".footer-interface").forEach((function(e){return e.classList.toggle("open")}))}))}}),[n,u]),(0,i.jsx)("div",{id:"modal-portfolio",className:"modal modal-interface fade",tabIndex:"-1","aria-labelledby":"modalPortfolio","aria-hidden":"true",ref:a,children:(0,i.jsx)("div",{className:"modal-dialog",children:(0,i.jsx)("div",{className:"modal-content",children:(0,i.jsx)("div",{className:"modal-body",children:p&&(0,i.jsxs)("div",{className:"card portfolio-focus soft shadow rounded border-0 mx-sm-auto",children:[(0,i.jsx)("img",{className:"card-img-top rounded-top",src:"".concat("https://simonbriche.herokuapp.com","/assets/images/gallery/").concat(p.thumbnail),alt:p.name}),(0,i.jsxs)("div",{className:"card-body bg-white rounded-bottom",children:[(0,i.jsx)("h2",{className:"card-title text-red",children:(0,i.jsx)("strong",{children:p.name})}),(0,i.jsx)("h4",{children:p.client}),p.pitch&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h6",{className:"text-red mb-0",children:"En r\xe9sum\xe9"}),(0,i.jsx)("div",{className:"card-text mb-3",dangerouslySetInnerHTML:{__html:p.pitch}})]}),p.description&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h6",{className:"text-red mb-0",children:"Plus en d\xe9tails"}),(0,i.jsx)("div",{className:"card-text mb-3",dangerouslySetInnerHTML:{__html:p.description}})]}),(0,i.jsxs)("div",{id:"portfolio-carousel",className:"carousel slide","data-bs-ride":"carousel",children:[(0,i.jsx)("div",{className:"carousel-inner",children:p.images&&p.images.map((function(e,a){return(0,i.jsx)("div",{className:"carousel-item ".concat(0===a?"active":""),children:(0,i.jsx)("img",{className:"d-block w-100 lazyload fade","data-src":"".concat("https://simonbriche.herokuapp.com","/assets/images/gallery/").concat(e),alt:"".concat(p.client,"-").concat(a),loading:"lazy"})},"carousel-image-".concat(a))}))}),p.images&&p.images.length>0&&(0,i.jsxs)("div",{className:"carousel-control-container",children:[(0,i.jsxs)("button",{className:"carousel-control-prev carousel-control rounded-circle m-2",type:"button","data-bs-target":"#portfolio-carousel","data-bs-slide":"prev",children:[(0,i.jsx)("i",{className:"fas fa-chevron-left text-red","aria-hidden":"true"}),(0,i.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,i.jsxs)("button",{className:"carousel-control-next carousel-control rounded-circle m-2",type:"button","data-bs-target":"#portfolio-carousel","data-bs-slide":"next",children:[(0,i.jsx)("i",{className:"fas fa-chevron-right text-red","aria-hidden":"true"}),(0,i.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})]}),p.types&&(0,i.jsx)("div",{className:"tags",children:(0,i.jsx)("ul",{className:"list-inline",children:p.types.map((function(e,a){return(0,i.jsx)("li",{className:"list-inline-item",children:(0,i.jsx)("span",{className:"badge bg-secondary rounded-pill",children:e})},"carousel-type-".concat(a))}))})}),j&&(0,i.jsxs)("div",{className:"techno",children:[(0,i.jsx)("i",{className:"small",children:"Built with"}),(0,i.jsx)("ul",{className:"list-inline mb-0",children:j.map((function(e,a){return(0,i.jsx)("li",{className:"list-inline-item",children:(0,i.jsx)("a",{href:e.link,title:e.name,target:"_blank",rel:"noopener, noreferrer",children:(0,i.jsx)("img",{className:"stack-logo bg-white rounded-circle lazyload fade me-2 mb-2","data-src":"".concat("https://simonbriche.herokuapp.com","/assets/images/stack/").concat(e.thumbnail),alt:"".concat(e.name,"-").concat(a),loading:"lazy"})})},"carousel-technology-".concat(a))}))})]})]})]})})})})})}},212:function(e,a,n){n.d(a,{O6:function(){return s},KK:function(){return o},Fq:function(){return c},W7:function(){return r}});var t={isBootstrapAvailable:function(e){return!e||!!(window.bootstrap&&window.bootstrap.Modal&&window.bootstrap.Modal.VERSION)&&window.bootstrap.Modal.VERSION.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})>=0},isJQueryAvailable:function(e){return!e||!!(window.$&&window.$.fn&&window.$.fn.jquery)&&window.$.fn.jquery.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})>=0},lazyLoadImages:function(e){"loading"in HTMLImageElement.prototype?e.querySelectorAll("img.lazyload").forEach((function(e){e.onload=function(){this.classList&&this.classList.add("show")},e.src=e.dataset.src})):n.e(504).then(n.t.bind(n,504,23))},randomString:function(e){for(var a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",t=e;t>0;--t)n+=a[Math.round(Math.random()*(a.length-1))];return n},randomBetween:function(e,a){return Math.ceil(a-Math.random()*(a-(e-1)))}},s=t.isBootstrapAvailable,o=t.isJQueryAvailable,c=t.lazyLoadImages,r=t.randomBetween}}]);
//# sourceMappingURL=945.078b35ec.chunk.js.map