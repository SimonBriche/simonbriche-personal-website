{"version":3,"file":"static/js/77.a1fac468.chunk.js","mappings":"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","sources":["cmp/GalleryTiles.js","utils/Tools.js","../javascript/esm|/Users/simon/gitlab/FRAMEWORK/website/react-cmp/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../javascript/esm|/Users/simon/gitlab/FRAMEWORK/website/react-cmp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../javascript/esm|/Users/simon/gitlab/FRAMEWORK/website/react-cmp/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../javascript/esm|/Users/simon/gitlab/FRAMEWORK/website/react-cmp/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../javascript/esm|/Users/simon/gitlab/FRAMEWORK/website/react-cmp/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../javascript/esm|/Users/simon/gitlab/FRAMEWORK/website/react-cmp/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\nimport { lazyLoadImages } from \"../utils/Tools\";\n\nconst GalleryTiles = (props) => {\n  const el = useRef(null);\n  const bridge = props.bridgeEvent;\n  const [galleryTiles, setGalleryTiles] = useState(null);\n  const [showMore, setShowMore] = useState(null);\n  const [afterCursor, setAfterCursor] = useState(null);\n\n  const postClickHandler = (e, item) => {\n    const postEvent = new CustomEvent(\"openGalleryModal\", {\n      detail: item\n    });\n    bridge.dispatchEvent(postEvent);\n  }\n\n  const showMoreHandler = (afterCursor) => {\n    const moreEvent = new CustomEvent(\"onShowMoreTilesEvent\", {\n      detail: {\n        after: afterCursor\n      }\n    });\n    bridge.dispatchEvent(moreEvent);\n  }\n\n  const scrollToFilters = () => {\n    const target = window.pageYOffset + document.getElementById('gallery-filters').getBoundingClientRect().top - 20;\n    window.scrollTo(0, target);\n  }\n  \n  useEffect(() => {\n    const onGalleryTilesHandler = (e) => {\n      setGalleryTiles(prevTiles => ((e.detail.isTilesAppended) ? prevTiles.concat(e.detail.tiles) : e.detail.tiles));\n      setShowMore(e.detail.hasNextPage);\n      setAfterCursor(e.detail.after);\n      lazyLoadImages(el.current);\n    }\n    bridge.addEventListener(\"onGalleryTilesEvent\", onGalleryTilesHandler);\n    return () => {\n      bridge.removeEventListener(\"onGalleryTilesEvent\", onGalleryTilesHandler);\n    }\n  }, [bridge]);\n\n  return (\n    <div className=\"gallery-container container-fluid\">\n      <div className=\"row justify-content-center\" ref={el}>\n        {galleryTiles ? \n          galleryTiles.length > 0 ? \n            galleryTiles.map(item => (\n              <div className=\"col-12 col-sm-6 col-md-4 col-lg-3 mb-3\" key={item.id}>\n                <div className=\"card gallery-item noselect mt-3 mx-auto rounded border-0 shadow h-100\" onClick={(e) => postClickHandler(e, item)}>\n                  <img className=\"card-img-top rounded-top lazyload fade\" data-src={`${process.env.REACT_APP_CDN_URL}/assets/images/gallery/${item.thumbnail}`} alt={item.name} loading=\"lazy\"/>\n                  <div className=\"card-body text-start rounded-bottom pb-0\">\n                    <ul className=\"list-unstyled text-wrap\">\n                      <li>\n                        <h5 className=\"mb-0\">\n                          <small>client: </small>\n                          <span className=\"text-red\">{item.client}</span>\n                        </h5>\n                      </li>\n                      <li>\n                        <small>name: </small>\n                        <strong>{item.name}</strong>\n                      </li>\n                      <li>\n                        <small>types: </small>\n                        <span>{item.types.join(', ')}</span>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n              ))\n            : <div className=\"col-12 text-center\">\n                <div className=\"soft d-inline-block my-2 p-3 rounded\">Z...zut ! Aucune r√©alisation ne correspond √† cette recherche üòÖ</div>\n              </div>\n          : <div className=\"col-12 text-center\">\n              <button onClick={() => showMoreHandler()} className=\"btn btn-custom btn-soft\">Lancez une premi√®re recherche üîç</button>\n            </div>\n        }\n      </div>\n      <div className=\"text-center mt-3\">\n        {galleryTiles && galleryTiles.length > 0 &&\n          <button onClick={scrollToFilters} className=\"btn btn-custom btn-soft m-3\">Retour au filtres</button>\n        }\n        {showMore &&\n          <button onClick={() => showMoreHandler(afterCursor)} className=\"btn btn-custom btn-soft m-3\">Plus de projets</button>\n        }\n      </div>\n    </div>\n  );\n}\n \nexport default GalleryTiles;","//import \"lazysizes\";\n\nconst Tools = {\n  isBootstrapAvailable: (version) => {\n    if(!version) return true;\n    if(!(window.bootstrap && window.bootstrap.Modal && window.bootstrap.Modal.VERSION)) return false;\n    return window.bootstrap.Modal.VERSION.localeCompare(version, undefined, { numeric: true, sensitivity: 'base' }) >= 0;\n  },\n  isJQueryAvailable: (version) => {\n    if(!version) return true;\n    if(!(window.$ && window.$.fn && window.$.fn.jquery)) return false;\n    return window.$.fn.jquery.localeCompare(version, undefined, { numeric: true, sensitivity: 'base' }) >= 0;\n  },\n  lazyLoadImages: (el) => {\n    if('loading' in HTMLImageElement.prototype) {\n      const images = el.querySelectorAll(\"img.lazyload\");\n      images.forEach(img => {\n        img.onload = function(){\n          if(this.classList){\n            //adding the 'show' class \"nullify\" the 'fade' class that is applied to lazyload img\n            this.classList.add('show')\n          }\n        };\n        img.src = img.dataset.src;\n      });\n    }\n    else{\n      import('lazysizes');\n    }\n  },\n  randomString: function (length) {\n    const chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    let result = '';\n    for (let i = length; i > 0; --i){\n      result += chars[Math.round(Math.random() * (chars.length - 1))];\n    }\n    return result;\n  },\n  randomBetween: function(min, max){\n    return Math.ceil(max - Math.random()*(max - (min - 1)));\n  }\n}\n\nexport const isBootstrapAvailable = Tools.isBootstrapAvailable;\nexport const isJQueryAvailable = Tools.isJQueryAvailable;\nexport const lazyLoadImages = Tools.lazyLoadImages;\nexport const randomString = Tools.randomString;\nexport const randomBetween = Tools.randomBetween;\nexport default Tools;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["props","el","useRef","bridge","bridgeEvent","useState","galleryTiles","setGalleryTiles","showMore","setShowMore","afterCursor","setAfterCursor","showMoreHandler","moreEvent","CustomEvent","detail","after","dispatchEvent","useEffect","onGalleryTilesHandler","e","prevTiles","isTilesAppended","concat","tiles","hasNextPage","lazyLoadImages","current","addEventListener","removeEventListener","className","ref","length","map","item","onClick","postEvent","postClickHandler","process","thumbnail","alt","name","loading","client","types","join","id","target","window","pageYOffset","document","getElementById","getBoundingClientRect","top","scrollTo","Tools","isBootstrapAvailable","version","bootstrap","Modal","VERSION","localeCompare","undefined","numeric","sensitivity","isJQueryAvailable","$","fn","jquery","HTMLImageElement","prototype","querySelectorAll","forEach","img","onload","this","classList","add","src","dataset","randomString","chars","result","i","Math","round","random","randomBetween","min","max","ceil","_arrayLikeToArray","arr","len","arr2","Array","_slicedToArray","isArray","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","value","err","o","minLen","n","Object","toString","slice","constructor","from","test","TypeError"],"sourceRoot":""}