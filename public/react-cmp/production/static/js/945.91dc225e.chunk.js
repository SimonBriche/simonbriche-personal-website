"use strict";(self.webpackChunkreact_cmp=self.webpackChunkreact_cmp||[]).push([[945],{945:function(e,a,t){t.r(a);var n=t(861),s=t(152),o=t(757),c=t.n(o),l=t(791),r=t(212),i=t(184);a.default=function(e){var a=(0,l.useRef)(null),t=e.bridgeEvent,o=(0,l.useState)(null),d=(0,s.Z)(o,2),u=d[0],m=d[1],h=(0,l.useState)(null),p=(0,s.Z)(h,2),f=p[0],x=p[1],b=(0,l.useState)(null),g=(0,s.Z)(b,2),j=g[0],v=g[1];return(0,l.useEffect)((function(){(0,r.O6)("5")?m(new window.bootstrap.Modal(a.current,{keyboard:!1,backdrop:!1})):console.warn("Bootstrap 5 must be loaded to use GalleryPostModal component")}),[]),(0,l.useEffect)((function(){if(t&&u){var e;t.addEventListener("openGalleryModal",(function(t){x(t.detail),(e||(e=new Promise((function(e,a){(0,n.Z)(c().mark((function a(){var t;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,fetch("".concat("https://simonbriche.herokuapp.com","/graphql?query=").concat(encodeURIComponent("{\n                technologies{\n                  data {id, name, link, thumbnail}\n                }\n              }")));case 3:return a.next=5,a.sent.json();case 5:t=a.sent,e(t.data.technologies.data);case 7:case"end":return a.stop()}}),a)})))().catch(a)}))),e).then((function(e){v(t.detail.technology_ids.map((function(a){return e.find((function(e){return e.id===a}))})))})).catch((function(e){console.log("fail to get technologies",e)})).finally((function(){(0,r.Fq)(a.current)})),u.show(),a.current.addEventListener("hidden.bs.modal",(function(e){x(null)}),{once:!0}),document.querySelectorAll(".footer-interface").forEach((function(e){return e.classList.toggle("open")}))}))}}),[t,u]),(0,i.jsx)("div",{id:"modal-portfolio",className:"modal modal-interface fade",tabIndex:"-1","aria-labelledby":"modalPortfolio","aria-hidden":"true",ref:a,children:(0,i.jsx)("div",{className:"modal-dialog",children:(0,i.jsx)("div",{className:"modal-content",children:(0,i.jsx)("div",{className:"modal-body",children:f&&(0,i.jsxs)("div",{className:"card portfolio-focus soft shadow rounded border-0 mx-sm-auto",children:[(0,i.jsx)("img",{className:"card-img-top rounded-top",src:"".concat("https://simonbriche.herokuapp.com","/assets/images/gallery/").concat(f.thumbnail),alt:f.name}),(0,i.jsxs)("div",{className:"card-body bg-white rounded-bottom",children:[(0,i.jsx)("h2",{className:"card-title text-red",children:(0,i.jsx)("strong",{children:f.name})}),(0,i.jsx)("h4",{children:f.client}),f.pitch&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h6",{className:"text-red mb-0",children:"En r\xe9sum\xe9"}),(0,i.jsx)("div",{className:"card-text mb-3",dangerouslySetInnerHTML:{__html:f.pitch}})]}),f.description&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h6",{className:"text-red mb-0",children:"Plus en d\xe9tails"}),(0,i.jsx)("div",{className:"card-text mb-3",dangerouslySetInnerHTML:{__html:f.description}})]}),(0,i.jsxs)("div",{id:"portfolio-carousel",className:"carousel slide","data-bs-ride":"carousel",children:[(0,i.jsx)("div",{className:"carousel-inner",children:f.images&&f.images.map((function(e,a){return(0,i.jsx)("div",{className:"carousel-item ".concat(0===a?"active":""),children:(0,i.jsx)("img",{className:"d-block w-100 lazyload fade","data-src":"".concat("https://simonbriche.herokuapp.com","/assets/images/gallery/").concat(e),alt:"".concat(f.client,"-").concat(a),loading:"lazy"})},"carousel-image-".concat(a))}))}),f.images&&f.images.length>0&&(0,i.jsxs)("div",{className:"carousel-control-container",children:[(0,i.jsxs)("button",{className:"carousel-control-prev carousel-control rounded-circle m-2",type:"button","data-bs-target":"#portfolio-carousel","data-bs-slide":"prev",children:[(0,i.jsx)("i",{className:"fas fa-chevron-left text-red","aria-hidden":"true"}),(0,i.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,i.jsxs)("button",{className:"carousel-control-next carousel-control rounded-circle m-2",type:"button","data-bs-target":"#portfolio-carousel","data-bs-slide":"next",children:[(0,i.jsx)("i",{className:"fas fa-chevron-right text-red","aria-hidden":"true"}),(0,i.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})]}),f.types&&(0,i.jsx)("div",{className:"tags",children:(0,i.jsx)("ul",{className:"list-inline",children:f.types.map((function(e,a){return(0,i.jsx)("li",{className:"list-inline-item",children:(0,i.jsx)("span",{className:"badge bg-secondary rounded-pill",children:e})},"carousel-type-".concat(a))}))})}),j&&(0,i.jsxs)("div",{className:"techno",children:[(0,i.jsx)("i",{className:"small",children:"Built with"}),(0,i.jsx)("ul",{className:"list-inline mb-0",children:j.map((function(e,a){return(0,i.jsx)("li",{className:"list-inline-item",children:(0,i.jsx)("a",{href:e.link,title:e.name,target:"_blank",rel:"noopener, noreferrer",children:(0,i.jsx)("img",{className:"stack-logo bg-white rounded-circle lazyload fade me-2 mb-2","data-src":"".concat("https://simonbriche.herokuapp.com","/assets/images/stack/").concat(e.thumbnail),alt:"".concat(e.name,"-").concat(a),loading:"lazy"})})},"carousel-technology-".concat(a))}))})]})]})]})})})})})}},212:function(e,a,t){t.d(a,{O6:function(){return s},Fq:function(){return o}});var n={isBootstrapAvailable:function(e){return!e||!!(window.bootstrap&&window.bootstrap.Modal&&window.bootstrap.Modal.VERSION)&&window.bootstrap.Modal.VERSION.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})>=0},lazyLoadImages:function(e){"loading"in HTMLImageElement.prototype?e.querySelectorAll("img.lazyload").forEach((function(e){e.onload=function(){this.classList&&this.classList.add("show")},e.src=e.dataset.src})):t.e(504).then(t.t.bind(t,504,23))}},s=n.isBootstrapAvailable,o=n.lazyLoadImages}}]);
//# sourceMappingURL=945.91dc225e.chunk.js.map