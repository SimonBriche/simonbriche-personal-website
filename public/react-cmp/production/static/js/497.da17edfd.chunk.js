"use strict";(self.webpackChunkreact_cmp=self.webpackChunkreact_cmp||[]).push([[497],{497:function(e,n,t){t.r(n);var a=t(861),o=t(152),r=t(757),i=t.n(r),s=t(791),l=t(212),c=t(184);n.default=function(e){var n=(0,s.useRef)(null),t=e.bridgeEvent,r=e.section,d=(0,s.useState)(null),u=(0,o.Z)(d,2),m=u[0],h=u[1];return(0,s.useEffect)((function(){(0,a.Z)(i().mark((function e(){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t='{\n        portfolio(filtering:{field: "section", operator:EQUAL, value:"'.concat(r,'"},orderBy:{sort:PRIORITY, direction:ASC}){\n          data{id, name, client, pitch, description, thumbnail, types, images, technology_ids}\n        }\n      }'),e.next=3,fetch("".concat("https://simonbriche.herokuapp.com","/graphql?query=").concat(encodeURIComponent(t)));case 3:return e.next=5,e.sent.json();case 5:a=e.sent,h(a.data.portfolio.data),(0,l.Fq)(n.current);case 8:case"end":return e.stop()}}),e)})))().catch((function(e){console.log("fail to fetch",e)}))}),[r]),(0,c.jsx)("ul",{className:"list-unstyled text-nowrap d-flex align-items-stretch",ref:n,children:m&&m.map((function(e){return(0,c.jsx)("li",{className:"d-inline-block mb-3",children:(0,c.jsxs)("div",{className:"card gallery-item noselect mt-3 mx-3 rounded border-0 shadow h-100",onClick:function(n){return function(e,n){var a=new CustomEvent("openGalleryModal",{detail:n});t.dispatchEvent(a)}(0,e)},children:[(0,c.jsx)("img",{className:"card-img-top rounded-top lazyload fade","data-src":"".concat("https://simonbriche.herokuapp.com","/assets/images/gallery/").concat(e.thumbnail),alt:e.name,loading:"lazy"}),(0,c.jsx)("div",{className:"card-body text-start rounded-bottom pb-0",children:(0,c.jsxs)("ul",{className:"list-unstyled text-wrap",children:[(0,c.jsx)("li",{children:(0,c.jsxs)("h5",{className:"mb-0",children:[(0,c.jsx)("small",{children:"client: "}),(0,c.jsx)("span",{className:"text-red",children:e.client})]})}),(0,c.jsxs)("li",{children:[(0,c.jsx)("small",{children:"name: "}),(0,c.jsx)("strong",{children:e.name})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("small",{children:"types: "}),(0,c.jsx)("span",{children:e.types.join(", ")})]})]})})]})},e.id)}))})}},212:function(e,n,t){t.d(n,{O6:function(){return o},KK:function(){return r},Fq:function(){return i},W7:function(){return s}});var a={isBootstrapAvailable:function(e){return!e||!!(window.bootstrap&&window.bootstrap.Modal&&window.bootstrap.Modal.VERSION)&&window.bootstrap.Modal.VERSION.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})>=0},isJQueryAvailable:function(e){return!e||!!(window.$&&window.$.fn&&window.$.fn.jquery)&&window.$.fn.jquery.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})>=0},lazyLoadImages:function(e){"loading"in HTMLImageElement.prototype?e.querySelectorAll("img.lazyload").forEach((function(e){e.onload=function(){this.classList&&this.classList.add("show")},e.src=e.dataset.src})):t.e(504).then(t.t.bind(t,504,23))},randomString:function(e){for(var n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t="",a=e;a>0;--a)t+=n[Math.round(Math.random()*(n.length-1))];return t},randomBetween:function(e,n){return Math.ceil(n-Math.random()*(n-(e-1)))}},o=a.isBootstrapAvailable,r=a.isJQueryAvailable,i=a.lazyLoadImages,s=a.randomBetween}}]);
//# sourceMappingURL=497.da17edfd.chunk.js.map